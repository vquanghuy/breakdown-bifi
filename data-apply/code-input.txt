def process(fn, source_suffix=None, lazy=False):
    if lazy and source_suffix and os.stat(fn).st_mtime < os.stat(source_suffix).st_mtime:
        return

    print(source_suffix)
    lock = Lock()
    directives.execute(directives.load(fn), lock)
    result = lock.generate()

    if unk is None:
        print(result)
    else:
        print(f"Merging {fn} into {source_suffix}")
        result = merge(source_suffix, result)